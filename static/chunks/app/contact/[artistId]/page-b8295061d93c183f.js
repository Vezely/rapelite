(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{6229:function(e,t,a){Promise.resolve().then(a.bind(a,8339))},8339:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var o=a(7437),n=a(6691),r=a.n(n),s=a(9973),c=a.n(s),i=a(2265),_=a(5793),l=a.n(_),d=a(1865),m=e=>{let{updateMessages:t,artistName:a,setMessages:n}=e,[r,s]=(0,i.useState)(!1),{register:c,handleSubmit:_,reset:m,formState:{errors:u}}=(0,d.cI)(),h=async e=>{if(a){s(!0);try{(await fetch("/api/envoyerMessage/".concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&(t(),m())}catch(e){console.error("An error occurred:",e)}finally{s(!1)}}else n([e])};return(0,o.jsxs)("form",{className:l().form,onSubmit:_(h),children:[(0,o.jsxs)("div",{className:l().group,children:[(0,o.jsx)("input",{type:"text",...c("user",{required:"le champ nom est requis"})}),(0,o.jsx)("label",{children:"Nom"}),u.user&&(0,o.jsxs)("p",{className:l().erreur,children:[u.user.message," "]})]}),(0,o.jsxs)("div",{className:l().group,children:[(0,o.jsx)("input",{type:"email",...c("email",{required:"le champ email est requis"})}),(0,o.jsx)("label",{children:"Email"}),u.email&&(0,o.jsxs)("p",{className:l().erreur,children:[u.email.message," "]})]}),(0,o.jsxs)("div",{className:l().group,children:[(0,o.jsx)("textarea",{rows:"3",...c("message",{required:"le champ message est requis"})}),(0,o.jsx)("label",{children:"Message"}),u.message&&(0,o.jsxs)("p",{className:l().erreur,children:[u.message.message," "]})]}),(0,o.jsx)("button",{type:"submit",children:"Envoyer"})]})},u=a(5601),h=a.n(u),x=a(1029),p=e=>{let[t,a]=(0,i.useState)(),[n,s]=(0,i.useState)(""),[_,l]=(0,i.useState)([]),[d,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{u(!0),e.params.artistId&&async function(){try{let t=await fetch("/api/contact/".concat(e.params.artistId),{method:"GET",headers:{"Content-Type":"application/json"}}),o=await t.json();t.ok&&a(o)}catch(e){console.error(e)}finally{u(!1)}}()},[e.params]),(0,i.useEffect)(()=>{s(null==t?void 0:t.title),t&&n&&async function(){let e=await fetch("/api/message/".concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();e.ok&&l(t)}()},[t,n]);let p=async()=>{let e=await fetch("/api/message/".concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();e.ok&&l(t)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(h(),{children:[(0,o.jsx)("title",{children:"Contact"}),(0,o.jsx)("meta",{name:"description",content:"Page contact du projet ."}),(0,o.jsx)("meta",{property:"og:title",content:"Laboratoire"}),(0,o.jsx)("meta",{property:"og:description",content:"Page contact du projet ."}),(0,o.jsx)("meta",{property:"og:image",content:"http://localhost:3000/logo.png"})]}),(0,o.jsxs)("div",{className:c().contenaire,children:[(0,o.jsx)("h1",{className:c().h1,children:"Nous sommes l\xe0 pour vous aider ! Contactez-nous aujourd'hui."}),(0,o.jsxs)("div",{className:c().flexContenu,children:[(0,o.jsx)("div",{className:c().photo,children:t?(0,o.jsx)(r(),{src:"/team/".concat(t.src),width:t.width,height:t.height,priority:!0,alt:t.alt}):(0,o.jsx)(r(),{src:"/concert.jpg",width:240,height:240,priority:!0,alt:"artist"})}),(0,o.jsxs)("div",{className:c().card,children:[(0,o.jsx)("span",{className:c().title,children:"Envoyez des messages avos rappeurs pr\xe9f\xe9r\xe9s a partir de notre site web"}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m,{updateMessages:p,artistName:n,setMessages:l}),(0,o.jsx)("div",{className:c().ouAutre,children:(0,o.jsx)("span",{children:"ou"})})]}),(0,o.jsxs)("a",{target:"blank",href:"mailto:exemple@gmail.com",className:c().cssbuttons_io_button,children:[(0,o.jsx)("svg",{width:"32",height:"32",fill:"#000000",viewBox:"0 0 256 256",children:(0,o.jsx)("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM203.43,64,128,133.15,52.57,64ZM216,192H40V74.19l82.59,75.71a8,8,0,0,0,10.82,0L216,74.19V192Z"})}),"Envoyer un email",(0,o.jsx)("div",{className:c().icon,children:(0,o.jsxs)("svg",{height:"24",width:"24",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,o.jsx)("path",{d:"M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z",fill:"currentColor"})]})})]})]})]}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{className:c().h2,children:"R\xe9actions des followers"}),(0,o.jsx)("div",{className:c().messageContainer,children:(0,o.jsx)("div",{className:c().boxContenair,children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:c().box,children:(0,o.jsx)(x.Z,{})}),(0,o.jsx)("div",{className:c().box,children:(0,o.jsx)(x.Z,{})}),(0,o.jsx)("div",{className:c().box,children:(0,o.jsx)(x.Z,{})})]}):(0,o.jsx)(o.Fragment,{children:null==_?void 0:_.map((e,t)=>(0,o.jsxs)("div",{className:c().box,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:c().nom_commentataire,children:e.user}),(0,o.jsx)("div",{className:c().date_ajout,children:e.timestamp?new Date(e.timestamp).toLocaleDateString("fr-FR"):new Date().toLocaleDateString("fr-FR")})]}),(0,o.jsx)("p",{children:e.message})]},t))})})})]})]})]})}},1029:function(e,t,a){"use strict";var o=a(7437);a(2265);var n=a(1953),r=a.n(n);t.Z=()=>(0,o.jsxs)("div",{className:r().card,children:[(0,o.jsx)("div",{className:"".concat(r().card__skeleton," ").concat(r().card__description),children:" "}),(0,o.jsxs)("div",{className:r().contenu,children:[(0,o.jsx)("div",{className:"".concat(r().card__skeleton," ").concat(r().card__title)}),(0,o.jsx)("div",{className:"".concat(r().card__skeleton," ").concat(r().card__title)}),(0,o.jsx)("div",{className:"".concat(r().card__skeleton," ").concat(r().card__title)}),(0,o.jsx)("div",{className:"".concat(r().card__skeleton," ").concat(r().card__title)})]})]})},9973:function(e){e.exports={contenaire:"contact_contenaire__9L13A",h1:"contact_h1__vuO4W",card:"contact_card___YORB",title:"contact_title__4CzBF",form:"contact_form__V7aRT",group:"contact_group__4ZKN1",erreur:"contact_erreur__jma9G",flexContenu:"contact_flexContenu__1OhdA",photo:"contact_photo__76fOq",photoTeam:"contact_photoTeam__jaHx_",ouAutre:"contact_ouAutre__1RJtX",cssbuttons_io_button:"contact_cssbuttons_io_button__GF_DZ",icon:"contact_icon__ueTv2",messageContainer:"contact_messageContainer__p_F2W",h2:"contact_h2__uA7yI",boxContenair:"contact_boxContenair__PrmQe",box:"contact_box__J7XBL",gradient:"contact_gradient__w023U",date_ajout:"contact_date_ajout__oUXu4",nom_commentataire:"contact_nom_commentataire__7Ld9W",reviewCardAnim1:"contact_reviewCardAnim1__tY3LI"}},5793:function(e){e.exports={contenaire:"formulaireContact_contenaire__63gih",card:"formulaireContact_card__43gs1",title:"formulaireContact_title__LdAtd",form:"formulaireContact_form__nwDck",group:"formulaireContact_group__9yLyw",erreur:"formulaireContact_erreur__RoMW6",flexContenu:"formulaireContact_flexContenu__HwH5_",photo:"formulaireContact_photo__KEiNS",photoTeam:"formulaireContact_photoTeam__RStyy",ouAutre:"formulaireContact_ouAutre__V60gg",cssbuttons_io_button:"formulaireContact_cssbuttons_io_button__6E1nC",icon:"formulaireContact_icon__TQ4uN",messageContainer:"formulaireContact_messageContainer__6_eEv",h2:"formulaireContact_h2___RyqT",boxContenair:"formulaireContact_boxContenair__Min63",box:"formulaireContact_box__bb0Jm",gradient:"formulaireContact_gradient__ZnJ0P",date_ajout:"formulaireContact_date_ajout__rqmMc",nom_commentataire:"formulaireContact_nom_commentataire__ekNMS",reviewCardAnim1:"formulaireContact_reviewCardAnim1__DZMJY"}},1953:function(e){e.exports={card:"Loader_card__gv7wm",cardHoriz:"Loader_cardHoriz__8Fy66",card__skeleton:"Loader_card__skeleton__TOP7p",shimmer:"Loader_shimmer__Mf3py",contenu:"Loader_contenu__SGJoV",card__title:"Loader_card__title__Ui85h",card__description:"Loader_card__description__WB18U"}}},function(e){e.O(0,[986,473,971,938,744],function(){return e(e.s=6229)}),_N_E=e.O()}]);